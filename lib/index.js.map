{"version":3,"sources":["src/index.js","node_modules/nxutils/src/generic/base.js","node_modules/nxutils/src/generic/is-x.js","src/utils/buffer.js","src/utils/ieee754.js","src/utils/decycle.js","src/utils/encode-buffer.js","src/utils/decode-buffer.js","src/utils/index.js","src/write/index.js","src/write/write-type.js","src/write/write-token.js","src/read/index.js","src/read/read-format.js","src/read/read-token.js","src/preset/codec.js","src/preset/index.js"],"names":[],"mappings":"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","file":"index.js","sourceRoot":"../","sourcesContent":["var madson = (function () {\n    import \"nxutils/generic/base\";\n\n    import \"./utils\";\n    import \"./write\";\n    import \"./read\";\n    import \"./preset\";\n\n    function mEncode(input, options) {\n        var encoder = new EncodeBuffer(options);\n        encode(encoder, cloneDecycle(input));\n        return encoder.read();\n    }\n\n    function mDecode(input, options) {\n        var decoder = new DecodeBuffer(options);\n        decoder.append(input);\n        return retroCycle(decode(decoder));\n    }\n\n    function packer(input) {\n        return Buffer.isBuffer(input) ? mDecode(input) : mEncode(input);\n    }\n\n    return extend(packer, {\n        createCodec: createCodec,\n        codec: { preset: preset },\n        encode: mEncode,\n        decode: mDecode\n    });\n})();\n\n//if (\"isServer\")\n    if (typeof module == 'object')\n        module.exports = madson;\n","var global = window || (function () { return this; }).call(null),\n    String = global.String,\n    Number = global.Number,\n    Boolean = global.Boolean,\n    Function = global.Function,\n    Object = global.Object,\n    RegExp = global.RegExp,\n    Array = global.Array,\n    Error = global.Error,\n    Date = global.Date,\n    Symbol = global.Symbol,\n    ArrayBuffer = global.ArrayBuffer;\n\nvar defineProp = Object.defineProperty,\n    defineProps = Object.defineProperties,\n    getObjectOwnKeys = Object.getOwnPropertyNames,\n    getObjectKeys = Object.keys;\n\nfunction hasProp(o, p) { return {}.hasOwnProperty.call(o, p); }\nfunction nullObject(proto, d) { return Object.create(proto || null, d); }\n\nimport \"./is-x\";\n\nfunction orDefault(o, d) { return isVoid(o) ? d : o; }\nfunction identity(x) { return x; }\nfunction nopFunc() { }\n\n\nfunction eachKey(obj, fn, nonEnums, noResult) {\n    if (!isObjectLike(obj)) return !noResult && [];\n    var keysFn = nonEnums ? getObjectOwnKeys : getObjectKeys;\n    return keysFn(obj)[noResult ? 'forEach' : 'map'](key => fn(key, obj[key]));\n}\n\nfunction extend(target) {\n    var aLen = arguments.length,\n        result = isObjectLike(target);\n\n    for (var i = 1; i < aLen; i++)\n        eachKey(arguments[i], function (p, val) {\n            result = result || {};\n            result[p] = val;\n        }, false, true);\n    return result;\n}\n\nfunction toArray(u) {\n    return isArray(u) ? u : isVoid(u) ? [] : [u];\n}\n\nfunction applyShim(obj, property, value) {\n    if (arguments.length < 3)\n        eachKey(property, (p, v) => applyShim(obj, p, v));\n\n    else if (isObjectLike(obj) && !hasProp(obj, property))\n        defineProp(obj, property, {\n            enumerable: true,\n            value: value\n        });\n\n    return obj;\n}\n","function isNull(o) { return o === null; }\nfunction isUndefined(u) { return u === undefined; }\nfunction isVoid(x) { return x == null || !x && isNaN(x); }\n// only voids: undefined, null, NaN\n\nfunction isBool(b) { return typeof b == 'boolean'; }\nfunction isString(s) { return typeof s == 'string'; }\nfunction isNumber(num) { return typeof num == 'number'; }\n\nfunction isFunc(f) { return typeof f == 'function' && f; }\nfunction isObject(o) { return typeof o == 'object' && o; }\nfunction isObjectLike(x) { return isFunc(x) || isObject(x); }\nfunction isValue(val) { return val ? !isObjectLike(val) : !isVoid(val); }\n\nfunction isArray(a) { return Array.isArray(a) && a; }\n\nfunction objToString(o) { return {}.toString.call(o); }\nfunction isDate(d) { return objToString(d) === '[object Date]' && d; }\nfunction isRegExp(re) { return objToString(re) === '[object RegExp]' && re; }\nfunction isPromiseLike(obj) { return isObjectLike(obj) && isFunc(obj.then); }\nfunction isError(e) { return e && (e instanceof Error || objToString(e) === '[object Error]'); }\n","var Buffer = (function () {\n    var p = Buffer.prototype,\n        isTypedArray = global.TYPED_ARRAY_SUPPORT;\n    if (isUndefined(isTypedArray)) isTypedArray = Buffer.TYPED_ARRAY_SUPPORT = (function () {\n        try {\n            var arr = new Uint8Array(1)\n            arr.foo = function () { return 42; };\n            return arr.foo() === 42 && isFunc(arr.subarray) && arr.subarray(1, 1).byteLength === 0;\n        } catch (e) {\n            return false;\n        }\n    })();\n\n    var kMaxLength = (Buffer.TYPED_ARRAY_SUPPORT = isTypedArray) ? 0x7fffffff : 0x3fffffff,\n        reUtf8 = /^utf\\-?8$/i,\n        reBin = /^bin(ary)?$/i;\n\n\n    function checked(length) {\n        var len = length | 0;\n        if (len >= kMaxLength)\n            throw new RangeError('Maximum Buffer size exceeded: 0x' + kMaxLength.toString(16) + ' bytes');\n        return len < 0 ? 0 : len;\n    }\n\n    function checkedInd(ind, len) {\n        ind = ind | 0;\n        len = len | 0;\n        ind = ind < 0 ? ind + len : ind > len ? len : ind;\n        if (ind < 0) ind = 0;\n        return ind;\n    }\n\n    function allocate(that, length) {\n        if (isTypedArray)\n            return fromArrayBuffer(length);\n\n        that.length = length;\n        return that;\n    }\n\n    function fromArrayBuffer(array) {\n        var buf = new Uint8Array(array);\n        buf.__proto__ = p;\n        return buf;\n    }\n\n\n    function Buffer(arg, encoding) {\n        if (arg == null) throw new TypeError('must start with number, buffer, array or string');\n        if (!(this instanceof Buffer)) return new Buffer(arg, encoding);\n\n        if (!isTypedArray) this.length = 0;\n        if (isNumber(arg)) return fromNumber(this, arg);\n        if (isString(arg)) return fromString(this, arg, isString(encoding) && encoding || 'utf8');\n        if (Buffer.isBuffer(arg)) return fromBuffer(this, arg);\n\n        if (isArray(arg) || (!global.ArrayBuffer && arg.length) || arg.buffer instanceof ArrayBuffer)\n            return fromArray(this, arg);\n\n        // !ArrayBuffer\n        if (arg.length) return fromJsonObject(this, arg);\n        if (arg instanceof ArrayBuffer)\n            return isTypedArray ? fromArrayBuffer(arg)\n                : fromArray(this, new Uint8Array(arg));\n    }\n\n    function fromNumber(that, length) {\n        var len = checked(length),\n            buf = allocate(that, len);\n        if (!isTypedArray)\n            for (var i = 0; i < len; i++)\n                buf[i] = 0;\n        return buf;\n    }\n\n    function fromString(that, str, encoding) {\n        var buf = allocate(that, Buffer.byteLength(str, encoding) | 0);\n        buf.write(str, encoding);\n        return buf;\n    }\n\n    function fromBuffer(that, buffer) {\n        var len = checked(buffer.length) | 0,\n            buf = allocate(that, len);\n        buffer.copy(buf, 0, 0, len);\n        return buf;\n    }\n\n    function fromArray(that, array) {\n        var len = checked(array.length) | 0,\n            buf = allocate(that, len);\n        for (var i = 0; i < len; i++)\n            buf[i] = array[i] & 255;\n        return buf;\n    }\n\n    function fromJsonObject(that, object) {\n        var len = 0;\n        if (object.type === 'Buffer' && isArray(object.data)) {\n            var array = object.data;\n            len = checked(array.length) | 0;\n        }\n\n        var buf = allocate(that, len);\n        for (var i = 0; i < len; i++)\n            buf[i] = array[i] & 255;\n\n        return buf;\n    }\n\n    if (isTypedArray) {\n        p.__proto__ = Uint8Array.prototype;\n        Buffer.__proto__ = Uint8Array;\n        if (!isUndefined(Symbol) && Symbol.species && Buffer[Symbol.species] === Buffer)\n            defineProp(Buffer, Symbol.species, { value: null, configurable: true });\n    }\n    else p.length = undefined;\n\n\n    function utf8Slice(buf, start, end) {\n        end = Math.min(buf.length, end);\n        var res = [];\n\n        for (var i = start; i < end; i += bytesPerSequence) {\n            var codePoint = null,\n                firstByte = buf[i],\n                bytesPerSequence = firstByte > 0xEF ? 4 : firstByte > 0xDF ? 3 : firstByte > 0xBF ? 2 : 1\n\n            if (i + bytesPerSequence <= end)\n                switch (bytesPerSequence) {\n                    case 1:\n                        if (firstByte < 0x80) codePoint = firstByte;\n                        break;\n                    case 2:\n                        secondByte = buf[i + 1];\n                        if ((secondByte & 0xC0) === 0x80) {\n                            var tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F);\n                            if (tempCodePoint > 0x7F)\n                                codePoint = tempCodePoint;\n                        }\n                        break;\n                    case 3:\n                        secondByte = buf[i + 1];\n                        thirdByte = buf[i + 2];\n                        if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n                            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F);\n                            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF))\n                                codePoint = tempCodePoint;\n                        }\n                        break;\n                    case 4:\n                        var secondByte = buf[i + 1],\n                            thirdByte = buf[i + 2],\n                            fourthByte = buf[i + 3];\n\n                        if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n                            tempCodePoint = (firstByte & 0xF) << 0x12 |\n                                (secondByte & 0x3F) << 0xC |\n                                (thirdByte & 0x3F) << 0x6 |\n                                (fourthByte & 0x3F);\n\n                            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000)\n                                codePoint = tempCodePoint;\n                        }\n                }\n\n            if (isNull(codePoint)) {\n                codePoint = 0xFFFD;\n                bytesPerSequence = 1;\n            }\n            else if (codePoint > 0xFFFF) {\n                codePoint -= 0x10000;\n                res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n                codePoint = 0xDC00 | codePoint & 0x3FF;\n            }\n\n            res.push(codePoint);\n        }\n\n        return decodeCodePointsArray(res);\n    }\n\n\n    Buffer.isBuffer = function (b) {\n        return b != null && (b._isBuffer || (b.constructor && b.constructor.isBuffer && b.constructor.isBuffer(b))) && true;\n    };\n    Buffer.concat = function (list) {\n        if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.');\n        if (list.length === 0) return new Buffer(0);\n\n        var buf = new Buffer(list.reduce(((a, b) => a + b.length), 0));\n        for (var i = 0, pos = 0; i < list.length; i++) {\n            var item = list[i];\n            item.copy(buf, pos);\n            pos += item.length;\n        }\n        return buf;\n    };\n    Buffer.compare = function (a, b) {\n        if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b))\n            throw new TypeError('Arguments must be Buffers')\n\n        if (a === b) return 0;\n\n        var x = a.length, y = b.length;\n        for (var i = 0, len = Math.min(x, y); i < len; ++i)\n            if (a[i] !== b[i]) {\n                x = a[i];\n                y = b[i];\n                break;\n            }\n\n        return x < y ? -1 : x > y ? 1 : 0;\n    };\n    Buffer.byteLength = function (str, encoding) {\n        if (!isString(str)) str = '' + str;\n        return str.length && utf8ToBytes(str).length;\n    };\n\n\n    extend(p, {\n        _isBuffer: true,\n        toJSON: function () {\n            return {\n                type: 'Buffer',\n                data: [].slice.call(this._arr || this, 0)\n            };\n        },\n        toString: function (encoding, start, end) {\n            var len = this.length | 0;\n            if (!len) return '';\n            if (!arguments.length) return utf8Slice(this, 0, len);\n\n            start = start | 0;\n            if (start < 0) start = 0;\n\n            end = isUndefined(end) || end > this.length ? this.length : end | 0;\n            if (end <= start) return '';\n\n            if (!encoding || reUtf8.test(encoding))\n                return utf8Slice(this, start, end);\n\n            if (reBin.test(encoding)) {\n                var ret = '';\n                for (var i = start; i < end; i++)\n                    ret += String.fromCharCode(this[i]);\n                return ret;\n            }\n\n            throw new TypeError('Unknown encoding: ' + encoding);\n        },\n        copy: function (target, targetStart, start, end) {\n            start = start | 0;\n            end = (end !== 0 && this.length || end) | 0;\n\n            targetStart = (targetStart >= target.length ? target.length : targetStart) | 0;\n            if (!target.length || !this.length || end === start || (end > 0 && end < start)) return 0;\n\n            if (start < 0 || start >= this.length || targetStart < 0 || end < 0)\n                throw new RangeError();\n\n            if (end > this.length) end = this.length;\n            if (target.length - targetStart < end - start)\n                end = target.length - targetStart + start;\n\n            var len = (end - start) | 0;\n            if (this === target && start < targetStart && targetStart < end)\n                for (var i = len - 1; i >= 0; i--)\n                    target[i + targetStart] = this[i + start];\n\n            else if (len < 1000 || !isTypedArray)\n                for (i = 0; i < len; i++)\n                    target[i + targetStart] = this[i + start];\n\n            else Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);\n\n            return len;\n        },\n        slice: function (start, end) {\n            var len = this.length | 0;\n            start = checkedInd(start, len);\n            end = isUndefined(end) ? len : checkedInd(end, len);\n            end = (end < start ? start : end) | 0;\n\n            if (isTypedArray) {\n                newBuf = this.subarray(start, end);\n                newBuf.__proto__ = p;\n            }\n            else {\n                var sliceLen = end - start,\n                    newBuf = new Buffer(sliceLen);\n\n                for (var i = 0; i < sliceLen; i++)\n                    newBuf[i] = this[i + start];\n            }\n\n            return newBuf;\n        },\n        equals: function (b) {\n            if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer');\n            return this === b || Buffer.compare(this, b) === 0;\n        },\n\n        readUInt8: function (offset) {\n            return this[offset];\n        },\n        readUInt16BE: function (offset) {\n            return (this[offset] << 8) | this[offset + 1];\n        },\n        readUInt32BE: function (offset) {\n            return 0x1000000 * this[offset] + ((this[offset + 1] << 16) | (this[offset + 2] << 8) | this[offset + 3]);\n        },\n        readUInt64BE: function (start) {\n            var upper = this.readUInt32BE(start),\n                lower = this.readUInt32BE(start + 4);\n            return upper ? upper * 4294967296 + lower : lower;\n        }, //\n\n        readInt8: function (offset) {\n            return this[offset] & 0x80 ? this[offset] - 0xff - 1 : this[offset];\n        },\n        readInt16BE: function (offset) {\n            var val = this[offset + 1] | (this[offset] << 8);\n            return val & 0x8000 ? val | 0xFFFF0000 : val;\n        },\n        readInt32BE: function (offset) {\n            return (this[offset] << 24) | (this[offset + 1] << 16) | (this[offset + 2] << 8) | (this[offset + 3]);\n        },\n        readInt64BE: function (start) {\n            var upper = this.readInt32BE(start),\n                lower = this.readUInt32BE(start + 4);\n            return upper ? upper * 4294967296 + lower : lower;\n        }, //\n\n        readDoubleBE: function (offset) {\n            return ieee754read(this, offset, false, 52, 8);\n        },\n        readFloatBE: function (offset) {\n            return ieee754read(this, offset, false, 23, 4);\n        },\n\n        readString: function (start, end) {\n            var buffer = this,\n                index = start - 0 || 0;\n            if (!end) end = buffer.length;\n\n            var size = end - start;\n            if (size > kMaxLength) size = kMaxLength;\n\n            for (var out = []; index < end;) {\n                var array = new Array(size);\n                for (var pos = 0; pos < size && index < end; array[pos++] = chr) {\n                    var chr = buffer[index++];\n                    chr = chr < 0x80 ? chr :\n                          chr < 0xE0 ? ((chr & 0x3F) << 6) | (buffer[index++] & 0x3F) :\n                          ((chr & 0x3F) << 12) | ((buffer[index++] & 0x3F) << 6) | (buffer[index++] & 0x3F);\n                }\n\n                if (pos < size) array = array.slice(0, pos);\n                out.push(String.fromCharCode.apply('', array));\n            }\n\n            return out.length > 1 ? out.join('') : out.length ? out.shift() : '';\n        },\n        writeString: function (str, start) {\n            var buffer = this,\n                index = start | 0;\n\n            for (var i = 0, len = str.length; i < len; i++) {\n                var chr = str.charCodeAt(i);\n                if (chr < 0x80)\n                    buffer[index++] = chr;\n\n                else if (chr < 0x800) {\n                    buffer[index++] = 0xC0 | (chr >> 6);\n                    buffer[index++] = 0x80 | (chr & 0x3F);\n                }\n\n                else {\n                    buffer[index++] = 0xE0 | (chr >> 12);\n                    buffer[index++] = 0x80 | ((chr >> 6) & 0x3F);\n                    buffer[index++] = 0x80 | (chr & 0x3F);\n                }\n            }\n\n            return index - start;\n        },\n\n        write: function (str, offset, length, encoding) {\n            if (isUndefined(offset)) {\n                encoding = 'utf8';\n                length = this.length;\n                offset = 0;\n            }\n            else if (isUndefined(length) && isString(offset)) {\n                encoding = offset;\n                length = this.length;\n                offset = 0;\n            }\n            else if (isFinite(offset)) {\n                offset = offset | 0;\n                if (isFinite(length))\n                    length = length | 0;\n                else {\n                    encoding = length;\n                    length = undefined;\n                }\n            }\n            else {\n                var swap = encoding;\n                encoding = offset;\n                offset = length | 0;\n                length = swap;\n            }\n\n            var remaining = this.length - offset;\n            if (isUndefined(length) || length > remaining) length = remaining;\n\n            if (str.length > 0 && (length < 0 || offset < 0) || offset > this.length)\n                throw new RangeError('attempt to write outside buffer bounds')\n\n            if (!encoding || reUtf8.test(encoding))\n                return blitBuffer(utf8ToBytes(str, this.length - offset), this, offset, length);\n\n            if (reBin.test(encoding))\n                return blitBuffer(asciiToBytes(str), this, offset, length);\n\n            throw new TypeError('Unknown encoding: ' + encoding);\n        },\n\n        writeUInt8: function (value, offset) {\n            if (!isTypedArray) value = Math.floor(value);\n            this[offset = offset | 0] = value & 0xff;\n            return offset + 1;\n        },\n        writeUInt16BE: function (value, offset) {\n            offset = offset | 0;\n            if (isTypedArray) {\n                this[offset] = value >>> 8;\n                this[offset + 1] = value & 0xff;\n            }\n            else {\n                if (value < 0) value = 0xffff + value + 1;\n                for (var i = 0, j = Math.min(this.length - offset, 2); i < j; i++) {\n                    var shiftLen = 8 * (1 - i);\n                    this[offset + i] = (value & (0xff << shiftLen)) >>> shiftLen;\n                }\n            }\n            return offset + 2;\n        },\n        writeUInt32BE: function (value, offset) {\n            offset = offset | 0;\n            if (isTypedArray) {\n                this[offset] = value >>> 24;\n                this[offset + 1] = value >>> 16;\n                this[offset + 2] = value >>> 8;\n                this[offset + 3] = value & 0xff;\n            }\n            else {\n                if (value < 0) value = 0xffffffff + value + 1;\n                for (var i = 0, j = Math.min(this.length - offset, 4); i < j; i++)\n                    this[offset + i] = (value >>> (3 - i) * 8) & 0xff;\n            }\n            return offset + 4;\n        },\n        writeUInt64BE: function (value, offset) {\n            for (var i = 7; i >= 0; i--, value >>= 8)\n                this[offset + i] = value & 0xFF;\n            return offset + 8;\n        }, //\n\n        writeInt8: function (value, offset) {\n            if (!isTypedArray) value = Math.floor(value);\n            this[offset = offset | 0] = toUnsigned(value, 8);\n            return offset + 1;\n        },\n        writeInt16BE: function (value, offset) {\n            return this.writeUInt16BE(toUnsigned(value, 16), offset);\n        },\n        writeInt32BE: function (value, offset) {\n            return this.writeUInt32BE(toUnsigned(value, 32), offset);\n        },\n\n        writeFloatBE: function (value, offset) {\n            return ieee754write(this, value, offset = offset | 0, false, 23, 4);\n        },\n        writeDoubleBE: function (value, offset) {\n            return ieee754write(this, value, offset = offset | 0, false, 52, 8);\n        }\n    });\n\n\n    var masks = [0xff, 0xffff, 0xffffff, 0xffffffff];\n\n    function toUnsigned(value, bitsLen) {\n        var mask = masks[(bitsLen >> 3) - 1],\n            result = value & mask;\n        return result < 0 ? result + mask + 1 : result;\n    }\n\n    function asciiToBytes(str) {\n        var byteArray = [];\n        for (var i = 0; i < str.length; i++)\n            byteArray.push(str.charCodeAt(i) & 0xFF);\n        return byteArray;\n    }\n\n    function utf8ToBytes(str, units) {\n        units = units || Infinity;\n        var length = str.length,\n            leadSurrogate = null,\n            bytes = [];\n\n        for (var i = 0; i < length; i++) {\n            var codePoint = str.charCodeAt(i);\n            if (codePoint > 0xD7FF && codePoint < 0xE000) {\n                if (!leadSurrogate) {\n                    if (codePoint > 0xDBFF) {\n                        if ((units -= 3) > -1)\n                            bytes.push(0xEF, 0xBF, 0xBD);\n                    }\n                    else if (i + 1 === length) {\n                        if ((units -= 3) > -1)\n                            bytes.push(0xEF, 0xBF, 0xBD);\n                    }\n                    else leadSurrogate = codePoint;\n                    continue;\n                }\n\n                if (codePoint < 0xDC00) {\n                    if ((units -= 3) > -1)\n                        bytes.push(0xEF, 0xBF, 0xBD);\n\n                    leadSurrogate = codePoint;\n                    continue;\n                }\n\n                codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n            }\n            else if (leadSurrogate && (units -= 3) > -1)\n                bytes.push(0xEF, 0xBF, 0xBD);\n\n            leadSurrogate = null;\n\n            if (codePoint < 0x80) {\n                if ((units -= 1) < 0) break;\n                bytes.push(codePoint);\n            }\n            else if (codePoint < 0x800) {\n                if ((units -= 2) < 0) break;\n                bytes.push(\n                    codePoint >> 0x6 | 0xC0,\n                    codePoint & 0x3F | 0x80\n                );\n            }\n            else if (codePoint < 0x10000) {\n                if ((units -= 3) < 0) break;\n                bytes.push(\n                    codePoint >> 0xC | 0xE0,\n                    codePoint >> 0x6 & 0x3F | 0x80,\n                    codePoint & 0x3F | 0x80\n                );\n            }\n            else if (codePoint < 0x110000) {\n                if ((units -= 4) < 0) break;\n                bytes.push(\n                    codePoint >> 0x12 | 0xF0,\n                    codePoint >> 0xC & 0x3F | 0x80,\n                    codePoint >> 0x6 & 0x3F | 0x80,\n                    codePoint & 0x3F | 0x80\n                );\n            }\n            else throw new Error('Invalid code point');\n        }\n\n        return bytes\n    }\n\n    function blitBuffer(src, dst, offset, length) {\n        for (var i = 0; i < length && i + offset < dst.length && i < src.length; i++)\n            dst[i + offset] = src[i];\n        return i;\n    }\n\n\n    var gb = global.Buffer;\n    if (!gb) return Buffer;\n\n    for (var key in p)\n        if (!gb.prototype[key])\n            gb.prototype[key] = p[key];\n\n    for (var key in Buffer)\n        if (!gb[key])\n            gb[key] = Buffer[key];\n\n    return gb;\n})();\n","function ieee754read(buffer, offset, isLE, mLen, nBytes) {\n    var eLen = nBytes * 8 - mLen - 1,\n        eMax = (1 << eLen) - 1,\n        eBias = eMax >> 1,\n        nBits = -7,\n        d = isLE ? -1 : 1,\n        i = (isLE ? nBytes - 1 : 0) + d,\n        s = buffer[offset + i - d];\n\n\n    var e = s & ((1 << (-nBits)) - 1);\n    s >>= -nBits;\n    for (nBits += eLen; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n\n    var m = e & ((1 << (-nBits)) - 1);\n    e >>= (-nBits);\n    for (nBits += mLen; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n\n    if (e === 0) e = 1 - eBias;\n    else if (e === eMax) return m ? NaN : (s ? -1 : 1) * Infinity;\n    else {\n        m += Math.pow(2, mLen);\n        e -= eBias;\n    }\n\n    return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n}\n\n\nfunction ieee754write(buffer, value, offset, isLE, mLen, nBytes) {\n    var e, m, c\n    var eLen = nBytes * 8 - mLen - 1;\n    var eMax = (1 << eLen) - 1;\n    var eBias = eMax >> 1;\n    var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0);\n    var i = isLE ? 0 : (nBytes - 1);\n    var d = isLE ? 1 : -1;\n    var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n    value = Math.abs(value);\n\n    if (isNaN(value) || value === Infinity) {\n        m = isNaN(value) ? 1 : 0;\n        e = eMax;\n    }\n    else {\n        e = Math.floor(Math.log(value) / Math.LN2);\n        if (value * (c = Math.pow(2, -e)) < 1) {\n            e--;\n            c *= 2;\n        }\n        if (e + eBias >= 1) value += rt / c;\n        else  value += rt * Math.pow(2, 1 - eBias);\n        if (value * c >= 2) {\n            e++;\n            c /= 2;\n        }\n\n        if (e + eBias >= eMax) {\n            m = 0;\n            e = eMax;\n        }\n        else if (e + eBias >= 1) {\n            m = (value * c - 1) * Math.pow(2, mLen);\n            e = e + eBias;\n        }\n        else {\n            m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n            e = 0;\n        }\n    }\n\n    for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8);\n\n    e = (e << mLen) | m;\n    eLen += mLen;\n    for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8);\n\n    buffer[offset + i - d] |= s * 128;\n    return offset + nBytes;\n}\n","function ObjectRef(id) {\n    this.$ref = parseInt(id);\n}\n\nfunction cloneDecycle(object) {\n    var ID_FIELD = '__:D',\n        fin = [];\n\n    var result = function decycle(value) {\n        if (isFunc(value)) return;\n        if (!value || !isObject(value) || preset.getExtPacker(value)) return value;\n        if (value[ID_FIELD]) return new ObjectRef(value[ID_FIELD]);\n\n        value[ID_FIELD] = fin.push(value);\n        if (Buffer.isBuffer(value)) return value;\n\n\n        if (isArray(value)) {\n            var result = new Array(value.length);\n            for (var i = 0; i < value.length; i++)\n                if (!isUndefined(value[i]))\n                    result[i] = decycle(value[i]);\n            return result;\n        }\n\n\n        var result = {};\n        eachKey(value, (k, v) => {\n            if (k !== ID_FIELD)\n                result[k] = decycle(v);\n        });\n        return result;\n    }(object);\n\n    fin.forEach(function (obj) {\n        delete obj[ID_FIELD];\n    });\n\n    return result;\n}\n\nfunction retroCycle(object) {\n    var fin = [];\n\n    return function recycle(value) {\n        if (!value || !isObject(value)) return value;\n        if (value instanceof ObjectRef) return fin[value.$ref - 1];\n        fin.push(value);\n\n        if (!Buffer.isBuffer(value))\n            if (isArray(value)) {\n                for (var i = 0; i < value.length; i++)\n                    if (!isUndefined(value[i]))\n                        value[i] = recycle(value[i]);\n            }\n            else eachKey(value, (k, v) => value[k] = recycle(v));\n\n        return value;\n    }(object);\n}\n","var MIN_BUFFER_SIZE = 2048;\nvar MAX_BUFFER_SIZE = 65536;\n\nfunction EncodeBuffer(options) {\n    this.codec = options && options.codec || preset;\n    this.buffers = [];\n    this.buffer = null;\n    this.offset = 0;\n    this.start = 0;\n}\n\nEncodeBuffer.prototype = {\n    push: function (chunk) {\n        this.buffers.push(chunk);\n    },\n    read: function () {\n        this.flush();\n        var chunk = this.buffers.length > 1 ? Buffer.concat(this.buffers) : this.buffers[0];\n        this.buffers.length = 0;\n        return chunk;\n    },\n    flush: function () {\n        if (this.start < this.offset) {\n            this.push(this.buffer.slice(this.start, this.offset));\n            this.start = this.offset;\n        }\n    },\n    reserve: function (length) {\n        if (!this.buffer) return this.alloc(length);\n\n        var size = this.buffer.length;\n        if (this.offset + length < size) return;\n\n        if (this.offset) this.flush();\n        this.alloc(Math.max(length, Math.min(size * 2, MAX_BUFFER_SIZE)));\n    },\n    alloc: function (length) {\n        this.buffer = new Buffer(length > MIN_BUFFER_SIZE ? length : MIN_BUFFER_SIZE);\n        this.offset = 0;\n        this.start = 0;\n    },\n    send: function (buffer) {\n        var end = this.offset + buffer.length;\n        if (this.buffer && end < this.buffer.length) {\n            buffer.copy(this.buffer, this.offset);\n            this.offset = end;\n        }\n        else {\n            this.flush();\n            this.push(buffer);\n        }\n    }\n};\n","function DecodeBuffer(options) {\n    this.codec = options && options.codec || preset;\n    this.buffer = null;\n    this.offset = 0;\n}\n\nDecodeBuffer.prototype = {\n    push: Array.prototype.push,\n    read: Array.prototype.shift,\n    append: function (chunk) {\n        var prev = this.offset ? this.buffer.slice(this.offset) : this.buffer;\n        this.buffer = prev ? Buffer.concat([prev, chunk]) : chunk;\n        this.offset = 0;\n    }\n};\n","import \"./buffer\";\nimport \"./ieee754\";\nimport \"./decycle\";\nimport \"./encode-buffer\";\nimport \"./decode-buffer\";\n\nfunction ExtBuffer(buffer, type) {\n    this.buffer = buffer;\n    this.type = type;\n}\n\nvar BUFFER_SHORTAGE = new Error(\"BUFFER_SHORTAGE\"),\n    IS_BUFFER_SHIM = \"TYPED_ARRAY_SUPPORT\" in Buffer,\n    NO_TYPED_ARRAY = IS_BUFFER_SHIM && !Buffer.TYPED_ARRAY_SUPPORT;\n","var encode = function () {\n    import \"./write-type\";\n    import \"./write-token\";\n\n    return function (encoder, value) {\n        var func = type[typeof value];\n        if (!func) throw new Error(\"Unsupported type \\\"\" + (typeof value) + \"\\\": \" + value);\n        func(encoder, value);\n    };\n}();\n","var type = (function () {\n    function bool(encoder, value) {\n        token[value ? 0xc3 : 0xc2](encoder, value);\n    }\n\n    function number(encoder, value) {\n        var ivalue = value | 0, type;\n        if (value !== ivalue)\n            return void token[0xcb](encoder, value);\n\n        if (-0x20 <= ivalue && ivalue <= 0x7F)\n            type = ivalue & 0xFF;\n        else if (0 <= ivalue)\n            type = ivalue <= 0xFF ? 0xcc : ivalue <= 0xFFFF ? 0xcd : 0xce;\n        else\n            type = -0x80 <= ivalue ? 0xd0 : -0x8000 <= ivalue ? 0xd1 : 0xd2;\n\n        token[type](encoder, ivalue);\n    }\n\n    function string(encoder, value) {\n        var length = value.length,\n            maxsize = 5 + length * 3;\n\n        encoder.reserve(maxsize);\n\n        var expected = (length < 32) ? 1 : (length <= 0xFF) ? 2 : (length <= 0xFFFF) ? 3 : 5,\n            start = encoder.offset + expected;\n\n        length = encoder.buffer.writeString(value, start);\n        var actual = (length < 32) ? 1 : (length <= 0xFF) ? 2 : (length <= 0xFFFF) ? 3 : 5;\n\n        if (expected !== actual) {\n            var targetStart = encoder.offset + actual,\n                end = start + length;\n\n            encoder.buffer.copy(encoder.buffer, targetStart, start, end);\n        }\n\n        var type = actual === 1 ? 0xa0 + length : actual <= 3 ? 0xd7 + actual : 0xdb;\n        token[type](encoder, length);\n        encoder.offset += length;\n    }\n\n    var extMap = [];\n    for (var i = 0; i < 5; i++)\n        extMap[1 << i] = 0xd4 + i;\n\n    function object(encoder, value) {\n        if (isArray(value)) return array(encoder, value);\n        if (value === null) return nil(encoder, value);\n        if (Buffer.isBuffer(value)) return bin(encoder, value);\n\n        var packer = encoder.codec.getExtPacker(value);\n        if (packer) value = packer(value);\n        if (value instanceof ExtBuffer) return ext(encoder, value);\n\n        map(encoder, value);\n    }\n\n    function nil(encoder, value) {\n        token[0xc0](encoder, value);\n    }\n\n    function array(encoder, value) {\n        var length = value.length,\n            type = length < 16 ? 0x90 + length : length <= 0xFFFF ? 0xdc : 0xdd;\n\n        token[type](encoder, length);\n        for (var i = 0; i < length; i++)\n            encode(encoder, value[i]);\n    }\n\n    function bin(encoder, value) {\n        var length = value.length,\n            type = length < 0xFF ? 0xc4 : length <= 0xFFFF ? 0xc5 : 0xc6;\n        token[type](encoder, length);\n        encoder.send(value);\n    }\n\n    function ext(encoder, value) {\n        var buffer = value.buffer,\n            length = buffer.length,\n            type = extMap[length] || (length < 0xFF ? 0xc7 : length <= 0xFFFF ? 0xc8 : 0xc9);\n\n        token[type](encoder, length);\n        uint8[value.type](encoder);\n        encoder.send(buffer);\n    }\n\n    function map(encoder, value) {\n        var keys = Object.keys(value),\n            length = keys.length,\n            type = length < 16 ? 0x80 + length : length <= 0xFFFF ? 0xde : 0xdf;\n\n        token[type](encoder, length);\n        keys.forEach(function (key) {\n            encode(encoder, key);\n            encode(encoder, value[key]);\n        });\n    }\n\n    return {\n        'boolean': bool,\n        'number': number,\n        'string': string,\n        'object': object,\n        'function': nil,\n        'symbol': nil,\n        'undefined': nil\n    };\n})();\n","var token = new Array(256),\n    uint8 = new Array(256);\n\nif (NO_TYPED_ARRAY)\n    init_tokens(writeN, writeN, writeN);\nelse init_tokens(write1, write2, write4);\n\n\nfunction init_tokens(write1, write2, write4) {\n    var p = Buffer.prototype;\n\n    for (var i = 0x00; i <= 0xFF; i++)\n        token[i] = uint8[i] = write0(i);\n\n    [0xc4, 0xc7, 0xcc, 0xd9].forEach(function (c) {\n        token[c] = write1(c, 1, p.writeUInt8);\n    });\n\n    [0xc5, 0xc8, 0xcd, 0xda, 0xdc, 0xde].forEach(function (c) {\n        token[c] = write2(c, 2, p.writeUInt16BE);\n    });\n\n    [0xc6, 0xc9, 0xce, 0xdb, 0xdd, 0xdf].forEach(function (c) {\n        token[c] = write4(c, 4, p.writeUInt32BE);\n    });\n\n    token[0xd0] = write1(0xd0, 1, p.writeInt8);\n    token[0xd1] = write2(0xd1, 2, p.writeInt16BE);\n    token[0xd2] = write4(0xd2, 4, p.writeInt32BE);\n    token[0xca] = writeN(0xca, 4, p.writeFloatBE);\n    token[0xcb] = writeN(0xcb, 8, p.writeDoubleBE);\n    token[0xcf] = writeN(0xcf, 8, p.writeUInt64BE);\n    token[0xd3] = writeN(0xd3, 8, p.writeUInt64BE);\n}\n\nfunction writeN(type, len, method) {\n    return function (encoder, value) {\n        encoder.reserve(len + 1);\n        encoder.buffer[encoder.offset++] = type;\n        method.call(encoder.buffer, value, encoder.offset);\n        encoder.offset += len;\n    };\n}\n\nfunction write4(type) {\n    return function (encoder, value) {\n        encoder.reserve(5);\n        var buffer = encoder.buffer,\n            offset = encoder.offset;\n\n        buffer[offset++] = type;\n        buffer[offset++] = value >>> 24;\n        buffer[offset++] = value >>> 16;\n        buffer[offset++] = value >>> 8;\n        buffer[offset++] = value;\n        encoder.offset = offset;\n    };\n}\n\nfunction write2(type) {\n    return function (encoder, value) {\n        encoder.reserve(3);\n        var buffer = encoder.buffer,\n            offset = encoder.offset;\n\n        buffer[offset++] = type;\n        buffer[offset++] = value >>> 8;\n        buffer[offset++] = value;\n        encoder.offset = offset;\n    };\n}\n\nfunction write1(type) {\n    return function (encoder, value) {\n        encoder.reserve(2);\n        var buffer = encoder.buffer,\n            offset = encoder.offset;\n\n        buffer[offset++] = type;\n        buffer[offset++] = value;\n        encoder.offset = offset;\n    };\n}\n\nfunction write0(type) {\n    return function (encoder) {\n        encoder.reserve(1);\n        encoder.buffer[encoder.offset++] = type;\n    };\n}\n","var decode = function () {\n    import \"./read-format\";\n    import \"./read-token\";\n\n    return function (decoder) {\n        var type = format.uint8(decoder);\n        if (!token[type])\n            throw new Error(\"Invalid type: \" + (type ? (\"0x\" + type.toString(16)) : type));\n\n        return token[type](decoder);\n    }\n}();\n","var format = (function () {\n    function map(decoder, len) {\n        var value = {};\n        for (var i = 0; i < len; i++) {\n            var key = decode(decoder);\n            value[key] = decode(decoder);\n        }\n        return value;\n    }\n\n    function array(decoder, len) {\n        var value = new Array(len);\n        for (var i = 0; i < len; i++)\n            value[i] = decode(decoder);\n        return value;\n    }\n\n    function str(decoder, len) {\n        var buffer = decoder.buffer,\n            start = decoder.offset,\n            end = decoder.offset = start + len;\n\n        if (end > buffer.length) throw BUFFER_SHORTAGE;\n        return IS_BUFFER_SHIM || !Buffer.isBuffer(buffer) ?\n               buffer.readString(start, end) :\n               buffer.toString(\"utf-8\", start, end);\n    }\n\n    function bin(decoder, len) {\n        var start = decoder.offset,\n            end = decoder.offset = start + len;\n\n        if (end > decoder.buffer.length) throw BUFFER_SHORTAGE;\n        return decoder.buffer.slice(start, end);\n    }\n\n    function ext(decoder, len) {\n        var start = decoder.offset,\n            end = decoder.offset = start + len + 1;\n        if (end > decoder.buffer.length) throw BUFFER_SHORTAGE;\n\n        var type = decoder.buffer[start],\n            unpack = decoder.codec.getExtUnpacker(type);\n\n        if (!unpack) throw new Error(\"Invalid ext type: \" + (type && \"0x\" + type.toString(16)));\n        return unpack(decoder.buffer.slice(start + 1, end));\n    }\n\n    function read(len, method) {\n        return function (decoder) {\n            var start = decoder.offset,\n                end = decoder.offset = start + len;\n            if (end > decoder.buffer.length) throw BUFFER_SHORTAGE;\n\n            return method.call(decoder.buffer, start);\n        };\n    }\n\n    var p = Buffer.prototype;\n    return {\n        array: array,\n        map: map,\n        str: str,\n        bin: bin,\n        ext: ext,\n        uint8: read(1, p.readUInt8),\n        uint16: read(2, p.readUInt16BE),\n        uint32: read(4, p.readUInt32BE),\n        uint64: read(8, p.readUInt64BE),\n        int8: read(1, p.readInt8),\n        int16: read(2, p.readInt16BE),\n        int32: read(4, p.readInt32BE),\n        int64: read(8, p.readInt64BE),\n        float32: read(4, p.readFloatBE),\n        float64: read(8, p.readDoubleBE)\n    };\n})();\n","var token = (function (token) {\n    for (var i = 0x00; i <= 0x7f; i++)\n        token[i] = constant(i);\n\n    for (i = 0x80; i <= 0x8f; i++)\n        token[i] = fix(i - 0x80, format.map);\n\n    for (i = 0x90; i <= 0x9f; i++)\n        token[i] = fix(i - 0x90, format.array);\n\n    for (i = 0xa0; i <= 0xbf; i++)\n        token[i] = fix(i - 0xa0, format.str);\n\n    [\n        constant(null),\n        null,\n        constant(false),\n        constant(true),\n        flex(format.uint8, format.bin),\n        flex(format.uint16, format.bin),\n        flex(format.uint32, format.bin),\n        flex(format.uint8, format.ext),\n        flex(format.uint16, format.ext),\n        flex(format.uint32, format.ext),\n        format.float32,\n        format.float64,\n        format.uint8,\n        format.uint16,\n        format.uint32,\n        format.uint64,\n        format.int8,\n        format.int16,\n        format.int32,\n        format.int64,\n        fix(1, format.ext),\n        fix(2, format.ext),\n        fix(4, format.ext),\n        fix(8, format.ext),\n        fix(16, format.ext),\n        flex(format.uint8, format.str),\n        flex(format.uint16, format.str),\n        flex(format.uint32, format.str),\n        flex(format.uint16, format.array),\n        flex(format.uint32, format.array),\n        flex(format.uint16, format.map),\n        flex(format.uint16, format.map)\n    ].forEach((t, i) => token[0xc0 + i] = t);\n\n    for (i = 0xe0; i <= 0xff; i++)\n        token[i] = constant(i - 0x100);\n\n    function constant(value) {\n        return () => value;\n    }\n\n    function flex(lenFunc, decodeFunc) {\n        return decoder => decodeFunc(decoder, lenFunc(decoder));\n    }\n\n    function fix(len, method) {\n        return decoder => method(decoder, len);\n    }\n\n    return token;\n})(new Array(256));\n","var createCodec = (function () {\n    function Ext() {\n        this.extEncoderList = [];\n        this.extUnpackers = [];\n        this.extPackers = {};\n    }\n\n    Ext.prototype = {\n        addExtPacker: function (etype, Class, packer) {\n            if (isArray(packer)) packer = join(packer);\n\n            var name = Class.name;\n            if (name && name !== \"Object\") this.extPackers[name] = extPacker;\n            else this.extEncoderList.unshift([Class, extPacker]);\n\n            function extPacker(value) {\n                return new ExtBuffer(packer(value), etype);\n            }\n        },\n        addExtUnpacker: function (etype, unpacker) {\n            this.extUnpackers[etype] = isArray(unpacker) ? join(unpacker) : unpacker;\n        },\n        getExtPacker: function (value) {\n            var c = value.constructor,\n                e = c && c.name && this.extPackers[c.name];\n            if (e) return e;\n\n            for (var i = 0, pair; pair = this.extEncoderList[i]; i++)\n                if (c === pair[0])\n                    return pair[1];\n        },\n        getExtUnpacker: function (type) {\n            return this.extUnpackers[type] || (buffer => new ExtBuffer(buffer, type));\n        }\n    };\n\n    function join(filters) {\n        var f = filters.slice();\n        return function (value) {\n            return f.reduce((v, f) => f(v), value);\n        };\n    }\n\n    return function () {\n        return new Ext();\n    };\n})();\n","import \"./codec\";\nvar preset = (function (preset) {\n    var encode = mEncode, decode = mDecode, last;\n    var ERROR_COLUMNS = 'name message stack columnNumber fileName lineNumber'.split(' ');\n\n    function packError(value) {\n        var out = {};\n        for (var i = 0, key; key = ERROR_COLUMNS[i]; i++)\n            if (value[key]) out[key] = value[key];\n        return out;\n    }\n    function unpackError(Class) {\n        return function (value) {\n            var out = new Class(value.message);\n            for (var i = 0, key; key = ERROR_COLUMNS[i]; i++)\n                if (value[key]) out[key] = value[key];\n            return out;\n        };\n    }\n\n    function packValueOf(value) {\n        return value.valueOf();\n    }\n    function unpackClass(Class) {\n        return function (value) {\n            return new Class(value);\n        };\n    }\n\n    function packRegExp(value) {\n        value = RegExp.prototype.toString.call(value).split('/');\n        value.shift();\n\n        var out = [value.pop()];\n        out.unshift(value.join('/'));\n        return out;\n    }\n    function unpackRegExp(value) {\n        return RegExp.apply(null, value);\n    }\n\n    function packArrayBuffer(value) {\n        return new Buffer(new Uint8Array(value));\n    }\n    function unpackArrayBuffer(value) {\n        return (new Uint8Array(value)).buffer;\n    }\n\n    function packTypedArray(value) {\n        return new Buffer(new Uint8Array(value.buffer));\n    }\n    function packBuffer(value) {\n        return new Buffer(value);\n    }\n\n    [\n        [0x0E, Error, unpackError(Error), packError],\n        [0x01, EvalError, unpackError(EvalError)],\n        [0x02, RangeError, unpackError(RangeError)],\n        [0x03, ReferenceError, unpackError(ReferenceError)],\n        [0x04, SyntaxError, unpackError(SyntaxError)],\n        [0x05, TypeError, unpackError(TypeError)],\n        [0x06, URIError, unpackError(URIError)],\n        [0x0B, Boolean, unpackClass(Boolean), packValueOf],\n        [0x0C, String, unpackClass(String)],\n        [0x0F, Number, unpackClass(Number)],\n        [0x0D, Date, unpackClass(Date), Number],\n        [0x0A, RegExp, unpackRegExp, packRegExp],\n        [0x3F, ObjectRef, unpackClass(ObjectRef), v => v.$ref]\n    ].forEach(function (ext) {\n        preset.addExtPacker(ext[0], ext[1], [last = ext[3] || last, encode]);\n        preset.addExtUnpacker(ext[0], [decode, ext[2]]);\n    });\n\n\n    if (typeof Uint8Array !== 'undefined') {\n        [\n            [0x1A, ArrayBuffer, unpackArrayBuffer, packArrayBuffer],\n            [0x11, Int8Array, unpackClass(Int8Array), packBuffer],\n            [0x12, Uint8Array, unpackClass(Uint8Array)],\n            [0x13, Int16Array, 0, packTypedArray],\n            [0x15, Int32Array],\n            [0x14, Uint16Array],\n            [0x16, Uint32Array],\n            [0x17, Float32Array],\n            [0x1D, DataView]\n        ].forEach(function (ext, i) {\n            preset.addExtPacker(ext[0], ext[1], last = ext[3] || last);\n            preset.addExtUnpacker(ext[0], ext[2] || [unpackArrayBuffer, unpackClass(ext[1])]);\n        });\n\n        if (typeof Float64Array !== 'undefined') {\n            preset.addExtPacker(0x18, Float64Array, packTypedArray);\n            preset.addExtUnpacker(0x18, [unpackArrayBuffer, unpackClass(Float64Array)]);\n        }\n\n        if (typeof Uint8ClampedArray !== 'undefined') {\n            preset.addExtPacker(0x19, Uint8ClampedArray, packBuffer);\n            preset.addExtUnpacker(0x19, unpackClass(Uint8ClampedArray));\n        }\n    }\n\n    return preset;\n})(createCodec());\n"]}